# TELEPORT TO CURRENT ZONE:
execute as @e[type=fs:game,scores={zone=0}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_0]
execute as @e[type=fs:game,scores={zone=1}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_1]
execute as @e[type=fs:game,scores={zone=2}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_2]
execute as @e[type=fs:game,scores={zone=3}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_3]
execute as @e[type=fs:game,scores={zone=4}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_4]
execute as @e[type=fs:game,scores={zone=5}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_5]
execute as @e[type=fs:game,scores={zone=6}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_6]
execute as @e[type=fs:game,scores={zone=7}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_7]
execute as @e[type=fs:game,scores={zone=8}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_8]
execute as @e[type=fs:game,scores={zone=9}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_9]
execute as @e[type=fs:game,scores={zone=10}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_10]
execute as @e[type=fs:game,scores={zone=11}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_11]
execute as @e[type=fs:game,scores={zone=12}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_12]
execute as @e[type=fs:game,scores={zone=13}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_13]
execute as @e[type=fs:game,scores={zone=14}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_14]
execute as @e[type=fs:game,scores={zone=15}] run tp @a[tag=regroup] @e[type=fs:zone,name=zone_15]

# FACE THE DIRECTION OF THE ZONE IF POSSIBLE:
execute as @e[type=fs:game,scores={zone=0}] run execute as @e[type=fs:zone,name=zone_0,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_0,c=1] true
execute as @e[type=fs:game,scores={zone=0}] run execute as @e[type=fs:zone,name=zone_0,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_0,c=1] true

execute as @e[type=fs:game,scores={zone=1}] run execute as @e[type=fs:zone,name=zone_1,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_1,c=1] true
execute as @e[type=fs:game,scores={zone=1}] run execute as @e[type=fs:zone,name=zone_1,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_1,c=1] true

execute as @e[type=fs:game,scores={zone=2}] run execute as @e[type=fs:zone,name=zone_2,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_2,c=1] true
execute as @e[type=fs:game,scores={zone=2}] run execute as @e[type=fs:zone,name=zone_2,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_2,c=1] true

execute as @e[type=fs:game,scores={zone=3}] run execute as @e[type=fs:zone,name=zone_3,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_3,c=1] true
execute as @e[type=fs:game,scores={zone=3}] run execute as @e[type=fs:zone,name=zone_3,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_3,c=1] true

execute as @e[type=fs:game,scores={zone=4}] run execute as @e[type=fs:zone,name=zone_4,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_4,c=1] true
execute as @e[type=fs:game,scores={zone=4}] run execute as @e[type=fs:zone,name=zone_4,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_4,c=1] true

execute as @e[type=fs:game,scores={zone=5}] run execute as @e[type=fs:zone,name=zone_5,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_5,c=1] true
execute as @e[type=fs:game,scores={zone=5}] run execute as @e[type=fs:zone,name=zone_5,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_5,c=1] true

execute as @e[type=fs:game,scores={zone=6}] run execute as @e[type=fs:zone,name=zone_6,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_6,c=1] true
execute as @e[type=fs:game,scores={zone=6}] run execute as @e[type=fs:zone,name=zone_6,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_6,c=1] true

execute as @e[type=fs:game,scores={zone=7}] run execute as @e[type=fs:zone,name=zone_7,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_7,c=1] true
execute as @e[type=fs:game,scores={zone=7}] run execute as @e[type=fs:zone,name=zone_7,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_7,c=1] true

execute as @e[type=fs:game,scores={zone=8}] run execute as @e[type=fs:zone,name=zone_8,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_8,c=1] true
execute as @e[type=fs:game,scores={zone=8}] run execute as @e[type=fs:zone,name=zone_8,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_8,c=1] true

execute as @e[type=fs:game,scores={zone=9}] run execute as @e[type=fs:zone,name=zone_9,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_9,c=1] true
execute as @e[type=fs:game,scores={zone=9}] run execute as @e[type=fs:zone,name=zone_9,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_9,c=1] true

execute as @e[type=fs:game,scores={zone=10}] run execute as @e[type=fs:zone,name=zone_10,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_10,c=1] true
execute as @e[type=fs:game,scores={zone=10}] run execute as @e[type=fs:zone,name=zone_10,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_10,c=1] true

execute as @e[type=fs:game,scores={zone=11}] run execute as @e[type=fs:zone,name=zone_11,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_11,c=1] true
execute as @e[type=fs:game,scores={zone=11}] run execute as @e[type=fs:zone,name=zone_11,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_11,c=1] true

execute as @e[type=fs:game,scores={zone=12}] run execute as @e[type=fs:zone,name=zone_12,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_12,c=1] true
execute as @e[type=fs:game,scores={zone=12}] run execute as @e[type=fs:zone,name=zone_12,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_12,c=1] true

execute as @e[type=fs:game,scores={zone=13}] run execute as @e[type=fs:zone,name=zone_13,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_13,c=1] true
execute as @e[type=fs:game,scores={zone=13}] run execute as @e[type=fs:zone,name=zone_13,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_13,c=1] true

execute as @e[type=fs:game,scores={zone=14}] run execute as @e[type=fs:zone,name=zone_14,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_14,c=1] true
execute as @e[type=fs:game,scores={zone=14}] run execute as @e[type=fs:zone,name=zone_14,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_14,c=1] true

execute as @e[type=fs:game,scores={zone=15}] run execute as @e[type=fs:zone,name=zone_15,c=1] at @s run tp @a[tag=regroup] ^ ^ ^ facing @e[type=fs:zone,name=zone_15,c=1] true
execute as @e[type=fs:game,scores={zone=15}] run execute as @e[type=fs:zone,name=zone_15,c=1] at @s run tp @a[tag=regroup] ^ ^ ^-0.5 facing @e[type=fs:zone,name=zone_15,c=1] true

# Regroup AI turtles to player:
function player_companion/regroup_around_player

# Remove regroup tag:
tag @a[tag=regroup] remove regroup